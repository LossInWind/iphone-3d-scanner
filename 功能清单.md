# 项目功能清单 - App 端 + PC 端

请在每个功能后面标注：✅ 需要 / ❌ 不需要 / ⚡ 需要改进

---

# 第一部分：iOS App 端 (数据采集)

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| **数据采集** ||||
| A1 | RGB 视频录制 | 录制彩色视频 (1920x1440) | |
| A2 | LiDAR 深度采集 | 采集深度图 (192x256) | |
| A3 | 深度置信度图 | 每帧深度的置信度等级 (0/1/2) | |
| A4 | VIO 位姿估计 | ARKit 视觉惯性里程计，提供相机位姿 | |
| A5 | IMU 数据 | 加速度计和陀螺仪数据 | |
| A6 | 相机内参 | 相机标定矩阵 | |
| **数据传输** ||||
| A7 | USB 导出 | 通过 Finder/iTunes 导出数据 | |
| A8 | WiFi 传输 | 无线传输到 PC (新功能?) | |
| A9 | 实时流传输 | 实时推流到 PC (新功能?) | |

**技术栈**: Swift / Objective-C / ARKit

---

# 第二部分：PC 端 (处理 + 训练 + 标注)

## 2.1 数据可视化

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| B1 | 点云可视化 | 将深度图转换为彩色点云显示 | |
| B2 | 相机轨迹显示 | 显示相机运动路径 | |
| B3 | 坐标系显示 | 显示每帧的相机坐标系 | |
| B4 | 深度置信度过滤 | 根据置信度过滤低质量点 | |
| B5 | RGB-D 积分重建 | Open3D TSDF 生成 3D 网格 | |
| B6 | 网格导出 | 保存 3D 网格文件 (PLY/OBJ) | |
| B7 | 深度视频生成 | 深度图序列合成视频 | |

## 2.2 数据格式转换

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| C1 | Scanner 数据导入 | 导入 App 采集的数据 | |
| C2 | ARKitScenes 导入 | 导入 Apple ARKitScenes 数据集 | |
| C3 | ScanNet 导入 | 导入 ScanNet 数据集 | |
| C4 | Replica 导入 | 导入 Replica 渲染数据 | |
| C5 | Open3D 格式导出 | 转换为 Open3D 格式 | |
| C6 | instant-ngp 导出 | 转换为 instant-ngp 格式 | |
| C7 | ROS Bag 导出 | 转换为 ROS bag 格式 | |
| C8 | 帧采样/旋转 | 数据预处理 | |

## 2.3 位姿估计与标定

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| D1 | SfM 位姿估计 | COLMAP + HLoc 精确位姿 | |
| D2 | SuperPoint 特征 | 图像特征点提取 | |
| D3 | SuperGlue 匹配 | 特征点匹配 | |
| D4 | NetVLAD 检索 | 大场景图像检索 | |
| D5 | 畸变估计与校正 | 镜头畸变校正 | |
| D6 | 深度尺度对齐 | 用深度图校正 SfM 尺度 | |
| D7 | 场景边界计算 | 自动计算包围盒 | |

## 2.4 特征提取

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| E1 | DINO 特征 | 自监督视觉特征 | |
| E2 | LSeg 特征 | 视觉-语言特征 (支持文本查询) | |
| E3 | 特征压缩 | Autoencoder 降维 | |
| E4 | 特征可视化 | PCA 映射为 RGB | |

## 2.5 NeRF 训练

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| F1 | 颜色场训练 | 训练 RGB 重建 | |
| F2 | 深度场训练 | 深度监督训练 | |
| F3 | 特征场训练 | DINO/LSeg 特征场 | |
| F4 | 语义场训练 | 语义分割场 | |
| F5 | 混合精度 + EMA | 训练加速与稳定 | |
| F6 | 检查点管理 | 保存/加载/续训 | |

## 2.6 交互标注 GUI

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| G1 | 图像浏览器 | 滑动条浏览所有帧 | |
| G2 | 画笔标注 | 绘制前景/背景标注 | |
| G3 | 实时 NeRF 推理 | 显示实时渲染结果 | |
| G4 | 多视图预览 | RGB/深度/特征/语义预览 | |
| G5 | 标注保存/加载 | 标注数据管理 | |

## 2.7 导出与评估

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| H1 | 语义分割导出 | 导出每帧分割图 | |
| H2 | 后处理去噪 | 连通域过滤噪声 | |
| H3 | 视频渲染导出 | 四宫格视频导出 | |
| H4 | IoU 评估 | 与 GT 计算精度 | |

## 2.8 视觉-语言功能

| 编号 | 功能 | 描述 | 你的选择 |
|------|------|------|----------|
| I1 | 文本查询分割 | 自然语言查询分割物体 | |
| I2 | ROS 实时节点 | ROS 集成实时分割 | |
| I3 | 3D 语义查询 | 点云上语义查询 | |

**技术栈**: Python / PyTorch / Open3D / PyQt6

---

# 第三部分：你想新增的功能

## App 端新增

| 编号 | 功能名称 | 描述 |
|------|----------|------|
| A10 | | |
| A11 | | |

## PC 端新增

| 编号 | 功能名称 | 描述 |
|------|----------|------|
| J1 | | |
| J2 | | |
| J3 | | |

---

# 快速选择模板

### 模板 A: 最小化 (只要 3D 重建)
- App: A1, A2, A4, A6, A7
- PC: B1, B5, B6, C1

### 模板 B: 标准版 (采集 + 可视化 + 基础标注)
- App: A1-A7
- PC: B1-B7, C1, C8, D1-D7, G1-G5, H1

### 模板 C: 完整版 (全部功能)
- App: A1-A7
- PC: 全部

### 模板 D: 研究版 (视觉-语言)
- App: A1-A7
- PC: B1-B6, C1, D1-D7, E1-E4, F1-F6, I1-I3

---

请告诉我你的选择！
